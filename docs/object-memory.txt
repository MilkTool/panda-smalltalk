Object Memory Layout
----------------------

Legend
-------
Mark: GC book-keeping (12 bits), Readonly (1 bit) Hash (20 bits), Tag (2 bits)
Class oop: Oop to class object of instance
Fixed Size: Number of fixed fields in object

Normal Object

[ mark             ]
[ class            ]
[ instance vars    ] *


Array Object

[ mark               ]
[ class              ]
[ size               ]
[ elements           ] *


ByteArray Object

[ mark                ]
[ class               ]
[ size                ]
[ bytes               ] * (padded to oop size)

FloatArray Object

[ mark                ]
[ class               ]
[ size                ]
[ C `double'          ] *

LargeInteger Object

[ mark                ]
[ class               ]
[ size                ]
[ C `mp_int' struct   ]

Class/Metaclass Object

[ mark                ]
[ class               ]
[ vtable              ]
[ instance size       ]
[ instance variables  ]
[ class pool          ]
[ name                ]
[ superclass          ]
[ method dictionary   ]





